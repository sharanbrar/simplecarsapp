<!--
  Generated template for the FeedbackPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<div *ngIf="pleaseWait" class="pleasewait-overlay">
	<div class="loading-logo"><img src="assets/imgs/simple-logo.png"></div>
</div>

<!-- <ion-header>

  <ion-navbar>
    <ion-title>feedback</ion-title>
  </ion-navbar>

</ion-header> -->


<ion-content class="feedback-tab-body">
	<div class="tab-container back-image-container feedback">
			<img src="assets/imgs/simple-logo.png"/>
	</div>
	<div class="tabs-container" *ngIf="!pleaseWait">
	    <div class="feedback-toggle-buttons">
		    <ion-segment [(ngModel)]="tabtype">
		      <ion-segment-button value="feedback">
		      	Feedback
		      </ion-segment-button>
		    </ion-segment>
	    </div>
	    <div [ngSwitch]="tabtype">
	    	<div class="feedbackform" *ngSwitchCase="'feedback'">
	    		<div class="feedback-text">
	    			<p>
							<!-- Rate the test drive 1 star - 5 stars. -->
							Let us know what you thought about Test Drive below. 
	    			</p>
					</div>
					<div class="confirmed-text confrimed-details">
	    			<ion-item no-lines>
				      	<img src="{{servercall.ImagebaseUrl+bookingDetails.cardetails.Image}}" alt=""/>
				      	<div  class="car-info">
				      		<p class="car-name">{{bookingDetails.cardetails.Make}} {{bookingDetails.cardetails.Model}}</p>
				      		<p class="miles"><ion-icon name="alarm"></ion-icon> {{bookingDetails.detail.booked_time}}</p>
				      		<p class="miles locationpin"><ion-icon name="pin"></ion-icon> {{bookingDetails.detail.address}}</p>
				      	</div>
			      </ion-item>
	    		</div>
	    		<div class="error-div" [innerHTML]="feedbackerror"></div>
	    		<ion-stars
				    [numStars]="5"
				    [readOnly]="false"
				    [value]="0"
				    (clicked)="starClicked($event)">
				</ion-stars>
	    		<form [formGroup]="feedbackForm">
	    			<ion-item margin-bottom [ngClass]="{'has-danger': !feedbackForm.controls['feedbackEmail'].valid && feedbackForm.controls['feedbackEmail'].dirty }">
				         <ion-input type="text" formControlName="feedbackEmail" placeholder="Email"></ion-input>
				    </ion-item>
	    			<ion-item margin-bottom [ngClass]="{'has-danger': !feedbackForm.controls['feedbackMessage'].valid && feedbackForm.controls['feedbackMessage'].dirty }">
				        <ion-textarea rows="8" formControlName="feedbackMessage" name="Message"></ion-textarea>
				    </ion-item>
				     <button ion-button full color="light" round (click)="submitfeedback()">Send</button>
	    		</form>
	    			<p class="skip" (click)="skipthis()">Skip</p>
	    	</div>
	    </div>
	</div>
</ion-content>
